
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!-- This page is automatically generated from XML data files. Please do not edit by hand. Instead, modify the source XML and regenerate. --><head><title>Oracc Documentation - ATF Advanced Conventions</title><link rel="stylesheet" type="text/css" media="print" href="../../css/print.css" /><link rel="stylesheet" type="text/css" media="handheld" href="../../css/handheld.css" /><link rel="stylesheet" type="text/css" media="screen,projection" href="../../css/screen.css" /><link rel="stylesheet" type="text/css" media="screen,projection" href="../../my-screen.css" /><link rel="stylesheet" type="text/css" media="browsers_that_ignore_the_media_type_attribute" href="../../css/browsersthatsuck.css" /><link rel="stylesheet" type="text/css" media="screen,print" href="../../css/cuneify-ob.css" title="oldbabylonian" /><link rel="stylesheet" type="text/css" media="screen,print" href="../../css/cuneify-na.css" title="neoassyrian" /><script type="text/javascript"><!--
	var sRoot = '/doc';
    // --></script><script type="text/javascript" src="../../js/library.js"></script><meta http-equiv="pics-label" content='(pics-1.1 &#34;http://www.icra.org/ratingsv02.html&#34; l gen true for &#34;http://oracc.museum.upenn.edu../..&#34; r (nz 1 vz 1 lz 1 oz 1 cz 1))' /><link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" /><link rel="P3Pv1" href="../../w3c/p3p.xml" /><link rel="top" title="Documentation overview" href="../../" /><link rel="up" title="Working with ATF to edit texts" href="../../editinginatf/" /><link rel="prev" title="Complex Layouts in ATF" href="../../editinginatf/complexlayouts/" /><meta name="generator" content="Oracc ESP" /><meta http-equiv="content-type" content="text/html; charset=UTF-8" /><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" /><meta name="DC.title" content="ATF Advanced Conventions" /><meta name="DC.title.alternative" content="Advanced conventions" /><meta name="DC.identifier" scheme="DCTERMS.URI" content="http://oracc.museum.upenn.edu../../editinginatf/advancedconventions/" /><meta name="DC.identifier" content="doc-oracc-museum-upenn-edu/page/advanced" />
		<meta name="DC.publisher" content="Ocracc" />
		<meta name="DC.language" scheme="ISO 639-2/T" content="eng" />
		<meta name="DC.rights.copyright" content="Creative Commons SA 3.0 2013" />
		<meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text" /> 	
		<meta name="DC.format" content="text/html" />
		
	
	<script type="text/javascript">


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32878242-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body><div id="AccessLinks"><a id="top" name="top"></a><a href="../../accesskeys/index.html" accesskey="0">Access Keys</a> / <a href="../../sitemap/index.html" accesskey="3">Site Map</a><span id="TextSize"> / Text size: <span class="textsizelink" id="TextSizeSmaller"><a href="#" onclick="if ( window.changeTextSize ) changeTextSize ( -1 ); return false;" title="Smaller text" accesskey="8">&#160;-&#160;</a></span><span class="textsizelink" id="TextSizeLarger"><a href="#" onclick="if ( window.changeTextSize ) changeTextSize ( 1 ); return false;" title="Larger text" accesskey="9">&#160;+&#160;</a></span></span></div><div id="ReferenceLinks"><a href="../../privacy/index.html">Privacy</a> / <a href="../../webstandards/index.html">Web Standards</a> / <a href="../../licensing/index.html" title="Licensing statement" accesskey="7">Licensing</a></div><div id="Header"><span id="HeadTitle"><a href="../../index.html" title="Documentation overview" accesskey="1">Oracc Documentation</a></span></div><div id="Menu"><div id="MenuCaption">Main menu</div><ul><li class="only"><a href="../../index.html" title="Documentation overview" accesskey="1" class="only">Documentation home</a></li><li class="closed"><a href="../../usingoracc/index.html" title="Using Oracc: browse, sort, search, and display" class="closed">Using Oracc</a></li><li class="open"><a href="../../editinginatf/index.html" title="Working with ATF to edit texts" accesskey="6" class="open">Editing in ATF</a><ul><li class="closed"><a href="../../editinginatf/cdliatf/index.html" title="CDLI ATF Primer" class="closed">CDLI ATF</a></li><li class="closed"><a href="../../editinginatf/primer/index.html" title="Oracc ATF Primer" class="closed">Primer</a></li><li class="only"><a href="../../editinginatf/quickreference/index.html" title="ATF Quick Reference" class="only">Quick reference</a></li><li class="only"><a href="../../editinginatf/labels/index.html" class="only">Labels</a></li><li class="only"><a href="../../editinginatf/translations/index.html" class="only">Translations</a></li><li class="closed"><a href="../../editinginatf/metrology/index.html" title="Numbers and Metrology in Oracc Corpora" class="closed">Metrology</a></li><li class="only"><a href="../../editinginatf/protocols/index.html" title="ATF Protocols" class="only">Protocols</a></li><li class="only"><a href="../../editinginatf/scores/index.html" class="only">Scores</a></li><li class="only"><a href="../../editinginatf/composites/index.html" title="ATF Composites Conventions" class="only">Composites</a></li><li class="only"><a href="../../editinginatf/linkage/index.html" title="ATF Linkage" class="only">Linkage</a></li><li class="only"><a href="../../editinginatf/bilinguals/index.html" class="only">Bilinguals</a></li><li class="only"><a href="../../editinginatf/lexicaltexts/index.html" title="ATF Lexical Conventions" class="only">Lexical texts</a></li><li class="only"><a href="../../editinginatf/maths/index.html" title="Mathematical Notations in Oracc corpora" class="only">Maths</a></li><li class="only"><a href="../../editinginatf/complexlayouts/index.html" title="Complex Layouts in ATF" class="only">Complex layouts</a></li><li class="only"><div id="SelfInMenu" class="only">Advanced conventions</div></li></ul></li><li class="closed"><a href="../../usingemacs/index.html" title="Using Emacs for Oracc work" class="closed">Using Emacs</a></li><li class="closed"><a href="../../languages/index.html" title="Languages in Oracc" class="closed">Languages</a></li><li class="closed"><a href="../../lemmatising/index.html" title="Lemmatising ATF Files" class="closed">Lemmatising</a></li><li class="closed"><a href="../../convertingatf/index.html" title="Converting ATF to and from other formats" class="closed">Converting ATF</a></li><li class="closed"><a href="../../portals/index.html" title="Building a Portal Website" class="closed">Portals</a></li><li class="closed"><a href="../../managingprojects/index.html" title="Oracc Manager Documentation" class="closed">Managing projects</a></li><li class="only"><a href="http://oracc.museum.upenn.edu/" class="only">Oracc home</a></li></ul></div><div id="Content"><div id="Breadcrumb"><a href="../../index.html" title="Documentation overview" accesskey="1">Documentation home</a> &#187; <a href="../../editinginatf/index.html" title="Working with ATF to edit texts" accesskey="6">Editing in ATF</a> &#187; Advanced conventions</div><h1>ATF Advanced Conventions</h1>
   <p class="firstpara">This document describes ATF features which are not
    needed for everyday documents and which some users will never
    need.</p>

<a id="h_legacy" name="h_legacy"></a><h2>Legacy</h2>
<p>To save the time and bother of converting legacy transliteration into ATF you can use:</p>
<pre class="cookbook">#atf: use legacy</pre>
<p>to get the processor to treat typographic features such as diacritics, half-brackets, and intra-sign square brackets as if they were valid ATF.</p>

<a id="h_linenumbers" name="h_linenumbers"></a><h2>Line Numbers</h2>

<p>By default the ATF processor renumbers lines, storing the original
line number and generating a new one according to consistently defined
rules.  This procedure was adopted because of the lack of consistency
in numbering administrative texts.</p>

<p>It is possible to suppress this behaviour and, indeed, it is
necessary to suppress this behaviour if intertext linking is in use.
The relevant protocol to achieve this is:</p>
<pre class="cookbook">
#atf: use mylines</pre>

<a id="h_cellsfields" name="h_cellsfields"></a><h2>Cells &#38; Fields</h2>

<p>Two mechanisms provide structural subdivisions of lines: cells and
fields.</p>

<p>Cells are alignment units (like table cells); they can be of use to
organize the data in a way that mimics the layout on the object.
Fields are logical subdivisions in a line which are not necessarily
laid out in a special way on the object.  Cells can contain fields but
fields cannot contain cells; fields are lower in the structural
hierarchy than cells.</p>

<p>Fields can have a type specified so that higher order processors
working with the XTF data can work intelligently with them.</p>

<p>In ATF, cells are separated by ampersand characters
(<code>&#38;</code>); fields are separated by commas.  Both separators
must be preceded by one or more spaces.</p>
<p>Field types are indicated with an exclamation mark followed by one
or more lowercase letters; see the <a href="../../editinginatf/lexicaltexts/index.html" title="ATF Lexical Conventions">lexical
documentation for examples of how this works</a>.</p>

<pre class="cookbook">
&#38;P123123=UET 3,2
1. a &#38; e

&#38;P123123=UET 3,2
1. a , e

&#38;P123123=UET 3,2
1. e4 ,!sv A</pre>

<a id="h_streams" name="h_streams"></a><h2>Streams</h2>

<p>Streams are XTF's mechanism for entering data several times in
several different ways; no automatic alignment is done between
streams, but an alignment-group mechanism is provided for those
occasions where alignment is a requirement.  There are three kinds of
stream in XTF:</p>

<dl>
<dt>MTS: Main Transliteration Stream</dt>
<dd>This is the default line-type and is the only one that is normally
used.  Lemmatization information is aligned with the MTS unless there
is an NTS.</dd>
<dt>NTS: Normalized Transliteration Stream</dt>
<dd>This is a transliteration stream in which adjustments have been
made to normalize the text; a normal-orthography version of an emesal
text could be created using this mechanism, for example.
Lemmatization information is aligned with the NTS if present.  If NTS
and LGS are both given, NTS must come before LGS.</dd>
<dt>LGS: Linearized Grapheme Stream</dt>
<dd>This is the sequence of graphemes exactly in order and linearized
to the extent possible; this is mainly used in transliterations of ED
texts where the presumed reading sequence and the actual grapheme
sequence often diverge.  No alignment is ever done with the LGS.</dd>
<dt>GUS: Gloss Underneath Stream</dt>
<dd>Implemented for compatibility with the SAA corpus, this stream
allows glosses which appear on the tablet underneath the main text
line to be given in their own line.</dd>
</dl>

<p>In ATF, the MTS is the unmarked case (the one with the line
number).  The NTS is introduced by the sequence equals-period-space at
the start of the line (<code>=. </code>).  The LGS is introduced by
the sequence equals-colon-space at the start of the line (<code>=:
</code>).  A simple, if contrived example of all the streams is:</p>
<pre class="cookbook">
&#38;P246246=Streams
1. a
={ e
=. e4
=: A
#lem: a[water]
</pre>

<a id="h_alignment" name="h_alignment"></a><h2>Alignment</h2>

<p>Alignment between MTS and NTS can be effected through the
alignment-groups mechanism in which groups of words can be defined and
labelled such that the groups in one stream correspond to the groups
in the other stream.</p>

<p>If groups are used at all in a stream then every word in the stream
must belong to a group.</p>

<p>In ATF, alignment groups must be enabled using a protocol; the
groups are then indicated using matched parentheses with one or more
lowercase letters following the closing parenthesis:</p>
<pre class="cookbook">
&#38;P122221=Align
#atf: use alignment-groups
1.  %u  (UD)a  (GAL UM ME)b (BA LAGAB)c
=.      (kur)a (umeda)b     (ba-jen)c
#lem: 	kur[mountain]; umeda[nurse]; jen[go]
</pre>

<a id="h_zones" name="h_zones"></a><h2>Zones</h2>

<p>Zones are an experimental feature; at the schema level they are
defined in the GDL, but it is convenient to discuss them here because
they are another mechanism for grouping graphemes.  The concept is
that part of an inscription, e.g., a case, may exhibit ordering which
may not be linear but is nevertheless be based on some spatial
relationship between signs.  Transliterators can assign graphemes to
zones and label the graphemes by zone.</p>

<div class="imagefloat pc30"><img src="../../images/builder/UGN_example.png" alt="UD GAL NUN example" /></div>
<p>In ATF, zones are indicated using a dollar sign followed by digits
(e.g., <code>$1</code>.  In the Ebla version of the text in the
alignment example, the words are stacked vertically as in the image
here.  This could be transliterated as follows:</p>
<pre class="cookbook">
&#38;P122221=Align
#atf: use alignment-groups
1.  %u  (UD$1)a (GAL$2 UM$3 ME$3)b (BA$4 LAGAB$4)c
=.      (kur)a  (umeda)b           (ba-jen)c
#lem: 	kur[mountain]; umeda[nurse]; jen[go]</pre>


01 Jul 2013
<span class="obfuscatedEmailAddress">osc at oracc dot org</span>
<div id="Authors"><p>Steve Tinney</p></div><div id="CiteAs"><p>Steve Tinney, 'ATF Advanced Conventions', <i>Oracc Documentation</i>, Oracc,  2013 [http://oracc.museum.upenn.edu/doc/editinginatf/advancedconventions/<!--#config timefmt=", accessed %d %B %Y" --><!--#echo var="DATE_LOCAL" -->]</p></div><div id="EndContentSpace">&#160;</div></div><div id="BackToTop"><a href="#top" onclick="if ( window.highlight ) window.setTimeout ( 'highlight ()', 100 )" onkeypress="if ( window.highlight ) window.setTimeout ( 'highlight ()', 100 )">Back to top ^^</a></div><div id="FooterWhole">&#160;</div><div id="FooterRight"></div><div id="FooterLeft">Released under a <a href="http://http://creativecommons.org/licenses/by-sa/3.0/" class="external" target="_blank" title="Link opens in new window">Creative Commons Attribution Share-Alike license 3.0</a>, 2013</div><div id="URL">http://oracc.museum.upenn.edu/doc/editinginatf/advancedconventions/</div></body>
</html>