
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!-- This page is automatically generated from XML data files. Please do not edit by hand. Instead, modify the source XML and regenerate. --><head><title>Oracc Documentation - Creating Oracc</title><link rel="stylesheet" type="text/css" media="print" href="../../css/print.css" /><link rel="stylesheet" type="text/css" media="handheld" href="../../css/handheld.css" /><link rel="stylesheet" type="text/css" media="screen,projection" href="../../css/screen.css" /><link rel="stylesheet" type="text/css" media="screen,projection" href="../../css/my-screen.css" /><link rel="stylesheet" type="text/css" media="browsers_that_ignore_the_media_type_attribute" href="../../css/browsersthatsuck.css" /><link rel="stylesheet" type="text/css" media="screen,print" href="/css/cuneify-ob.css" title="oldbabylonian" /><link rel="stylesheet" type="text/css" media="screen,print" href="/css/cuneify-na.css" title="neoassyrian" /><script type="text/javascript"><!--
	var sRoot = '/doc';
    // --></script><script type="text/javascript" src="/js/library.js"></script><meta http-equiv="pics-label" content='(pics-1.1 &#34;http://www.icra.org/ratingsv02.html&#34; l gen true for &#34;http://oracc.museum.upenn.edu../..&#34; r (nz 1 vz 1 lz 1 oz 1 cz 1))' /><link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon" /><link rel="P3Pv1" href="../../w3c/p3p.xml" /><link rel="top" title="Documentation overview" href="../../" /><link rel="prev" title="Oracc Prerequisites" href="../../installation/prerequisites/" /><meta name="generator" content="Oracc ESP" /><meta http-equiv="content-type" content="text/html; charset=UTF-8" /><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" /><meta name="DC.title" content="Creating Oracc" /><meta name="DC.title.alternative" content="Creating" /><meta name="DC.identifier" scheme="DCTERMS.URI" content="http://oracc.museum.upenn.edu../../installation/creating/" /><meta name="DC.identifier" content="doc-oracc-museum-upenn-edu/page/neworacc" />
		<meta name="DC.publisher" content="Ocracc" />
		<meta name="DC.language" scheme="ISO 639-2/T" content="eng" />
		<meta name="DC.rights.copyright" content="Creative Commons SA 3.0 2013" />
		<meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text" /> 	
		<meta name="DC.format" content="text/html" />
		
	
	<script type="text/javascript">


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32878242-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body><div id="AccessLinks"><a id="top" name="top"></a><a href="../../accesskeys/index.html" accesskey="0">Access Keys</a> / <a href="../../sitemap/index.html" accesskey="3">Site Map</a><span id="TextSize"> / Text size: <span class="textsizelink" id="TextSizeSmaller"><a href="#" onclick="if ( window.changeTextSize ) changeTextSize ( -1 ); return false;" title="Smaller text" accesskey="8">&#160;-&#160;</a></span><span class="textsizelink" id="TextSizeLarger"><a href="#" onclick="if ( window.changeTextSize ) changeTextSize ( 1 ); return false;" title="Larger text" accesskey="9">&#160;+&#160;</a></span></span></div><div id="ReferenceLinks"><a href="../../privacy/index.html">Privacy</a> / <a href="../../webstandards/index.html">Web Standards</a> / <a href="../../licensing/index.html" title="Licensing statement" accesskey="7">Licensing</a></div><div id="Header"><span id="HeadTitle"><a href="../../index.html" title="Documentation overview" accesskey="1">Oracc Documentation</a></span></div><div id="Menu"><div id="MenuCaption">Main menu</div><ul><li class="only"><a href="../../index.html" title="Documentation overview" accesskey="1" class="only">Documentation home</a></li><li class="closed"><a href="../../usingoracc/index.html" title="Using Oracc: browse, sort, search, and display" class="closed">Using Oracc</a></li><li class="closed"><a href="../../editinginatf/index.html" title="Working with ATF to edit texts" accesskey="6" class="closed">Editing in ATF</a></li><li class="closed"><a href="../../usingemacs/index.html" title="Using Emacs for Oracc work" class="closed">Using Emacs</a></li><li class="closed"><a href="../../languages/index.html" title="Languages in Oracc" class="closed">Languages</a></li><li class="closed"><a href="../../lemmatising/index.html" title="Lemmatising ATF Files" class="closed">Lemmatising</a></li><li class="closed"><a href="../../convertingatf/index.html" title="Converting ATF to and from other formats" class="closed">Converting ATF</a></li><li class="closed"><a href="../../portals/index.html" title="Building a Portal Website" class="closed">Portals</a></li><li class="closed"><a href="../../managingprojects/index.html" title="Oracc Manager Documentation" class="closed">Managing projects</a></li><li class="only"><a href="http://oracc.museum.upenn.edu/" class="only">Oracc home</a></li></ul></div><div id="Content"><div id="Breadcrumb"><a href="../../index.html" title="Documentation overview" accesskey="1">Documentation home</a> &#187; <a href="../../installation/index.html" title="Installing Oracc">Installation</a> &#187; Creating</div><h1>Creating Oracc</h1>

<p class="firstpara">This document explains how to create Oracc once you have installed the <a href="../../installation/prerequisites/index.html" title="Oracc Prerequisites">prerequisites</a>.</p>




<a id="h_theoraccuser" name="h_theoraccuser"></a><h2>The Oracc User</h2>

<ul>

<li><p>create the directory where the Oracc installation will live;
   until path handling is abstracted out into a library routine
   the only paths that will work in practice are:</p>
<pre class="cookbook">
/usr/local/oracc
/var/local/oracc
</pre></li>

<li><p>create a user 'oracc' with home set to /usr/local/oracc:</p>
<pre class="cookbook">
/usr/sbin/useradd -d /usr/local/oracc oracc
</pre></li>

<li><p>set a password:</p>
<pre class="cookbook">
/sbin/passwd oracc
</pre></li>

<li><p>create a group 'oracc' if necessary:</p>
<pre class="cookbook">
/usr/sbin/groupadd oracc
</pre></li>

<li><p>change ownership of /{usr,var}/local/oracc to oracc:</p>
<pre class="cookbook">
chown oracc:oracc /{usr,var}/local/oracc
</pre></li>

<li><p>set /usr/local/oracc to be non-world-readable:</p>
<pre class="cookbook">
chmod o-r /usr/local/oracc
</pre></li>

</ul>

<a id="h_preinstall" name="h_preinstall"></a><h2>Pre-install</h2>

<ul>

<li><p>log in as root and create necessary directories:</p>
<pre class="cookbook">
mkdir -p /deleted_home /oraccbak
</pre></li>

<li><p>log in as oracc and create necessary directories:</p>
<pre class="cookbook">
mkdir -p 00/sys
mkdir -p /var/tmp/oracc/{atfserver,pager}
chmod o+w /var/tmp/oracc/*
</pre></li>

</ul>

<a id="h_obtaininstall" name="h_obtaininstall"></a><h2>Obtain/Install</h2>

<ul>

<li><p>obtain the Oracc distribution from <a href="http://oracc.museum.upenn.edu/downloads/oracc/" class="external" target="_blank" title="Link opens in new window">the
distributions directory</a><span class="externallinktext"> [http://oracc.museum.upenn.edu/downloads/oracc/]</span>.</p></li>

<li><p>put the current Oracc distribution in 00, and unpack it, then
link it to src (let's say you've downloaded it to /tmp):</p>
<pre class="cookbook">
cd ~/00
cp /tmp/oracc-2010-06-23.tar.gz 00
tar zxf ~/00/oracc-2010-06-23.tar.gz
ln -sf ~/00/oracc-2010-06-23 ~/src
</pre></li>

<li><p>edit <code>src/misc/admin/oraccenv.sh</code> appropriately 
for your environment.  If you are not going to host the webservices
yourself you can set ORACC_HOST to oracc.museum.upenn.edu.</p></li>

<li><p>edit <code>src/sys/skel/.bash_profile</code> if necessary; depending on 
the system, it may be necessary to copy the system skel
files (e.g., from /etc/skel) and add the following line to
the end:</p>
<pre class="cookbook">
. /usr/local/oracc/bin/oraccenv.sh
</pre>
<p>The path to <code>bin/oraccenv.sh</code> should be the the same as ORACC in oraccenv.sh</p></li>

<li><p>copy the skeleton files to the oracc user home:</p>
<pre class="cookbook">
cp src/sys/skel/.* ~
</pre></li>

<li><p>source the environment so the build will work:</p>
<pre class="cookbook">
. src/misc/admin/oraccenv.sh
</pre>

<p><strong>Note:</strong> if you log out and log in before the
installation has at least reached the point of copying the misc/admin
files, you will need to source this file manually each time.</p>
</li>

<li><p>Now build everything:</p>

<pre class="cookbook">
cd ~/src 
./install-all.sh
</pre>

<p>After the build completes, you should review the log files in
~/00/tmp/install*.log; this will tell you if everything has installed
successfully.</p></li>

</ul>

<a id="h_finishing" name="h_finishing"></a><h2>Finishing</h2>

<p>Now that Oracc is installed, you need to finish up the
installation of the root-only tools:</p>

<pre class="cookbook">
cd ${ORACC}src/sys
./install.sh
cd ${ORACC}/00
su
chown root:oracc sys
chmod go-rx sys
</pre>

<p>Finally, edit the root-only script newproj.sh to set
a default password for new project accounts.  Change
the line:</p>

<pre class="example">
## echo -n ******** /usr/bin/passwd --stdin $project
</pre>

<p>To uncomment it, and replace ******** with the
default password.  The root ownership and restrictive
permissions will ensure that no one is able to see
this.</p>

<p>After saving the file and exiting your text editor,
use `exit' to logout of being root.</p>


01 Jul 2013
<span class="obfuscatedEmailAddress">osc at oracc dot org</span>


<div id="Authors"><p>Steve Tinney</p></div><div id="CiteAs"><p>Steve Tinney, 'Creating Oracc', <i>Oracc Documentation</i>, Oracc,  2013 [http://oracc.museum.upenn.edu/doc/installation/creating/<!--#config timefmt=", accessed %d %B %Y" --><!--#echo var="DATE_LOCAL" -->]</p></div><div id="EndContentSpace">&#160;</div></div><div id="BackToTop"><a href="#top" onclick="if ( window.highlight ) window.setTimeout ( 'highlight ()', 100 )" onkeypress="if ( window.highlight ) window.setTimeout ( 'highlight ()', 100 )">Back to top ^^</a></div><div id="FooterWhole">&#160;</div><div id="FooterRight"></div><div id="FooterLeft">Released under a <a href="http://http://creativecommons.org/licenses/by-sa/3.0/" class="external" target="_blank" title="Link opens in new window">Creative Commons Attribution Share-Alike license 3.0</a>, 2013</div><div id="URL">http://oracc.museum.upenn.edu/doc/installation/creating/</div></body></html>